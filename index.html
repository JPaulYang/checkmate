<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Check-in System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Login Section -->
    <div id="loginSection">
        <div class="login-box">
            <h1>Check-in System</h1>
            <input type="text" id="username" placeholder="Username" />
            <input type="password" id="password" placeholder="Password" />
            <button onclick="login()">Login</button>
            <p class="hint">First-time login will auto-register</p>
            <p class="admin-link" onclick="showAdminPanel()">Admin Panel</p>
        </div>
    </div>

    <!-- Admin Login -->
    <div id="adminLogin" style="display: none;">
        <div class="admin-login-box">
            <h2>Admin Authentication</h2>
            <p id="adminLoginMessage">Enter admin password</p>
            <input type="password" id="adminPassword" placeholder="Admin Password" />
            <button onclick="verifyAdminPassword()">Access</button>
            <button onclick="closeAdminLogin()" class="secondary-btn">Cancel</button>
            <p class="admin-hint">Default password: <strong>admin123</strong> (change this in script.js before deploying!)</p>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" style="display: none;">
        <div class="admin-container">
            <div class="admin-header">
                <h1>Admin Panel</h1>
                <button onclick="closeAdminPanel()">Close</button>
            </div>

            <div class="admin-content">
                <!-- User Statistics -->
                <div class="admin-section">
                    <h2>User Statistics</h2>
                    <div id="userStats"></div>
                </div>

                <!-- User List -->
                <div class="admin-section">
                    <h2>User Management</h2>
                    <div id="userList"></div>
                </div>

                <!-- Data Management -->
                <div class="admin-section">
                    <h2>Data Management</h2>
                    <div class="data-buttons">
                        <button onclick="exportData()">Export All Data</button>
                        <button onclick="document.getElementById('importFile').click()">Import Data</button>
                        <input type="file" id="importFile" style="display: none;" onchange="importData(event)" accept=".json">
                        <button onclick="clearAllData()" class="danger-btn">Clear All Data</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Section -->
    <div id="mainSection" style="display: none;">
        <div class="header">
            <h1>Check-in Calendar</h1>
            <div class="user-info">
                <span id="currentUser"></span>
                <button onclick="logout()">Logout</button>
            </div>
        </div>

        <!-- Today's Check-in -->
        <div class="today-checkin">
            <h2>Today's Check-in (<span id="todayDate"></span>)</h2>
            <div id="todayStatus"></div>
            <div class="checkin-options">
                <button onclick="toggleCheckin('paper')" data-activity="paper">ğŸ“š Read Paper</button>
                <button onclick="toggleCheckin('fitness')" data-activity="fitness">ğŸ’ª Fitness</button>
                <button onclick="toggleCheckin('algorithm')" data-activity="algorithm">ğŸ’» Algorithm</button>
                <button onclick="toggleCheckin('quant')" data-activity="quant">ğŸ“Š Quant Interview</button>
            </div>
        </div>

        <!-- Today's Activity -->
        <div class="today-activity">
            <h2>Today's Activity</h2>
            <p class="activity-subtitle">See who checked in today</p>
            <div id="todayActivityList"></div>
        </div>

        <!-- Calendar View -->
        <div class="calendar-container">
            <h2>Monthly Check-in Records</h2>
            <div class="calendar-header">
                <button onclick="changeMonth(-1)">â†</button>
                <span id="currentMonth"></span>
                <button onclick="changeMonth(1)">â†’</button>
            </div>
            <div class="calendar" id="calendar"></div>
            <div class="legend">
                <div><span class="legend-item paper">ğŸ“š</span> Read Paper</div>
                <div><span class="legend-item fitness">ğŸ’ª</span> Fitness</div>
                <div><span class="legend-item algorithm">ğŸ’»</span> Algorithm</div>
                <div><span class="legend-item quant">ğŸ“Š</span> Quant Interview</div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
