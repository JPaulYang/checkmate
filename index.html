<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Check-in System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Login Section -->
    <div id="loginSection">
        <div class="login-box">
            <h1>Check-in System</h1>
            <input type="text" id="username" placeholder="Username" />
            <input type="password" id="password" placeholder="Password" />
            <button onclick="login()">Login</button>
            <p class="hint">First-time login will auto-register</p>
            <p class="admin-link" onclick="showAdminPanel()">Admin Panel</p>
        </div>
    </div>

    <!-- Admin Login -->
    <div id="adminLogin" style="display: none;">
        <div class="admin-login-box">
            <h2>Admin Authentication</h2>
            <p id="adminLoginMessage">Enter admin password</p>
            <input type="password" id="adminPassword" placeholder="Admin Password" />
            <button onclick="verifyAdminPassword()">Access</button>
            <button onclick="closeAdminLogin()" class="secondary-btn">Cancel</button>
            <p class="admin-hint">Default password: <strong>admin123</strong> (change this in script.js before deploying!)</p>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" style="display: none;">
        <div class="admin-container">
            <div class="admin-header">
                <h1>Admin Panel</h1>
                <button onclick="closeAdminPanel()">Close</button>
            </div>

            <div class="admin-content">
                <!-- User Statistics -->
                <div class="admin-section">
                    <h2>User Statistics</h2>
                    <div id="userStats"></div>
                </div>

                <!-- User List -->
                <div class="admin-section">
                    <h2>User Management</h2>
                    <div id="userList"></div>
                </div>

                <!-- Data Management -->
                <div class="admin-section">
                    <h2>Data Management</h2>
                    <div class="data-buttons">
                        <button onclick="exportData()">Export All Data</button>
                        <button onclick="document.getElementById('importFile').click()">Import Data</button>
                        <input type="file" id="importFile" style="display: none;" onchange="importData(event)" accept=".json">
                        <button onclick="clearAllData()" class="danger-btn">Clear All Data</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Section -->
    <div id="mainSection" style="display: none;">
        <!-- Desktop Mode Header -->
        <div class="header desktop-only">
            <h1>Check-in Calendar</h1>
            <div class="user-info">
                <span id="currentUser"></span>
                <button onclick="logout()">Logout</button>
            </div>
        </div>

        <!-- Mobile Mode Header -->
        <div class="mobile-header mobile-only">
            <h1>Checkmate</h1>
            <div class="user-info">
                <span id="currentUserMobile"></span>
                <button onclick="logout()" class="icon-btn">ğŸšª</button>
            </div>
        </div>

        <!-- Mobile Tab Navigation -->
        <div class="mobile-tabs mobile-only">
            <button class="tab-btn active" onclick="switchMobileTab('today')" data-tab="today">
                <span class="tab-icon">âœ“</span>
                <span class="tab-label">Today</span>
            </button>
            <button class="tab-btn" onclick="switchMobileTab('activity')" data-tab="activity">
                <span class="tab-icon">ğŸ‘¥</span>
                <span class="tab-label">Activity</span>
            </button>
            <button class="tab-btn" onclick="switchMobileTab('calendar')" data-tab="calendar">
                <span class="tab-icon">ğŸ“…</span>
                <span class="tab-label">Calendar</span>
            </button>
        </div>

        <!-- Content Wrapper -->
        <div class="content-wrapper">
            <!-- Today's Check-in -->
            <div class="today-checkin" data-mobile-tab="today">
                <h2>Today's Check-in (<span id="todayDate"></span>)</h2>
                <div id="todayStatus"></div>
                <div class="checkin-options">
                    <button onclick="toggleCheckin('paper')" data-activity="paper">
                        <span class="btn-icon">ğŸ“š</span>
                        <span class="btn-label">Read Paper</span>
                    </button>
                    <button onclick="toggleCheckin('fitness')" data-activity="fitness">
                        <span class="btn-icon">ğŸ’ª</span>
                        <span class="btn-label">Fitness</span>
                    </button>
                    <button onclick="toggleCheckin('algorithm')" data-activity="algorithm">
                        <span class="btn-icon">ğŸ’»</span>
                        <span class="btn-label">Algorithm</span>
                    </button>
                    <button onclick="toggleCheckin('quant')" data-activity="quant">
                        <span class="btn-icon">ğŸ“Š</span>
                        <span class="btn-label">Quant Interview</span>
                    </button>
                </div>
            </div>

            <!-- Today's Activity -->
            <div class="today-activity" data-mobile-tab="activity">
                <h2>Today's Activity</h2>
                <p class="activity-subtitle">See who checked in today</p>
                <div id="todayActivityList"></div>
            </div>

            <!-- Calendar View -->
            <div class="calendar-container" data-mobile-tab="calendar">
                <h2>Monthly Check-in Records</h2>
                <div class="calendar-header">
                    <button onclick="changeMonth(-1)">â†</button>
                    <span id="currentMonth"></span>
                    <button onclick="changeMonth(1)">â†’</button>
                </div>
                <div class="calendar" id="calendar"></div>
                <div class="legend">
                    <div><span class="legend-item paper">ğŸ“š</span> Read Paper</div>
                    <div><span class="legend-item fitness">ğŸ’ª</span> Fitness</div>
                    <div><span class="legend-item algorithm">ğŸ’»</span> Algorithm</div>
                    <div><span class="legend-item quant">ğŸ“Š</span> Quant Interview</div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
